(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))Y(T);new MutationObserver(T=>{for(const V of T)if(V.type==="childList")for(const U of V.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&Y(U)}).observe(document,{childList:!0,subtree:!0});function X(T){const V={};return T.integrity&&(V.integrity=T.integrity),T.referrerPolicy&&(V.referrerPolicy=T.referrerPolicy),T.crossOrigin==="use-credentials"?V.credentials="include":T.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function Y(T){if(T.ep)return;T.ep=!0;const V=X(T);fetch(T.href,V)}})();const Dt=`struct Matrices {
    model: mat4x4<f32>,
    view: mat4x4<f32>,
    projection: mat4x4<f32>,
    cameraPosition: vec3<f32>
};

struct VertexIn {
    @location(0) position: vec4<f32>,
    @location(1) normal: vec4<f32>,
};

struct VertexOut {
    @builtin(position) position: vec4<f32>,
    @location(0) vNormal: vec4<f32>,
    @location(1) vPos: vec4<f32>,
};

@group(0) @binding(0) var<uniform> matrices : Matrices;

@vertex
fn vs_main(input: VertexIn) -> VertexOut {
    var output: VertexOut;
    let mvMatrix = matrices.view * matrices.model;
    output.position = matrices.projection * mvMatrix * input.position;
    output.vNormal = matrices.model * input.normal;
    output.vPos = matrices.model * input.position;
    return output;
}

@fragment
fn fs_main(fragData: VertexOut) -> @location(0) vec4<f32> {
    let specularStrength = 1.5;
    let specularShininess = 92.0;
    let lightPosition = vec3(50.0, 50.0, 50.0);
    let diffuseLightStrength = 0.9;
    let ambientLightStrength = 0.1;
    let ambientLightColor = vec4(0.9, 1.0, 0.0, 1.0);

  //Ambient
    let ambientFinal = ambientLightColor * ambientLightStrength;

  //Diffuse
    let vNormal = normalize(fragData.vNormal.xyz);
    let vPosition = fragData.vPos.xyz;
    let vCameraPosition = matrices.cameraPosition;
    let lightDir = normalize(lightPosition - vPosition);
    let lightMagnitude = dot(vNormal, lightDir);
    let diffuseLightFinal: f32 = diffuseLightStrength * max(lightMagnitude, 0.0);

  //Specular
    let viewDir = normalize(vCameraPosition - vPosition);
    let reflectDir = reflect(-lightDir, vNormal);
    let spec = pow(max(dot(viewDir, reflectDir), 0.0), specularShininess);
    let specularFinal = specularStrength * spec;
    let lightFinal = specularFinal + diffuseLightFinal;
    return vec4(0.9, 0.0, 0.4, 1.0) * lightFinal + ambientFinal;
}
`;function st(w,A){return class extends w{constructor(...X){super(...X),A(this)}}}const ct=st(Array,w=>w.fill(0));let $=1e-6;function ot(w){function A(n=0,r=0){const t=new w(2);return n!==void 0&&(t[0]=n,r!==void 0&&(t[1]=r)),t}const X=A;function Y(n,r,t){const c=t??new w(2);return c[0]=n,c[1]=r,c}function T(n,r){const t=r??new w(2);return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function V(n,r){const t=r??new w(2);return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function U(n,r){const t=r??new w(2);return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function O(n,r=0,t=1,c){const u=c??new w(2);return u[0]=Math.min(t,Math.max(r,n[0])),u[1]=Math.min(t,Math.max(r,n[1])),u}function H(n,r,t){const c=t??new w(2);return c[0]=n[0]+r[0],c[1]=n[1]+r[1],c}function j(n,r,t,c){const u=c??new w(2);return u[0]=n[0]+r[0]*t,u[1]=n[1]+r[1]*t,u}function _(n,r){const t=n[0],c=n[1],u=r[0],D=r[1],y=Math.sqrt(t*t+c*c),i=Math.sqrt(u*u+D*D),f=y*i,M=f&&Sn(n,r)/f;return Math.acos(M)}function v(n,r,t){const c=t??new w(2);return c[0]=n[0]-r[0],c[1]=n[1]-r[1],c}const J=v;function B(n,r){return Math.abs(n[0]-r[0])<$&&Math.abs(n[1]-r[1])<$}function k(n,r){return n[0]===r[0]&&n[1]===r[1]}function m(n,r,t,c){const u=c??new w(2);return u[0]=n[0]+t*(r[0]-n[0]),u[1]=n[1]+t*(r[1]-n[1]),u}function b(n,r,t,c){const u=c??new w(2);return u[0]=n[0]+t[0]*(r[0]-n[0]),u[1]=n[1]+t[1]*(r[1]-n[1]),u}function C(n,r,t){const c=t??new w(2);return c[0]=Math.max(n[0],r[0]),c[1]=Math.max(n[1],r[1]),c}function R(n,r,t){const c=t??new w(2);return c[0]=Math.min(n[0],r[0]),c[1]=Math.min(n[1],r[1]),c}function W(n,r,t){const c=t??new w(2);return c[0]=n[0]*r,c[1]=n[1]*r,c}const F=W;function wn(n,r,t){const c=t??new w(2);return c[0]=n[0]/r,c[1]=n[1]/r,c}function ln(n,r){const t=r??new w(2);return t[0]=1/n[0],t[1]=1/n[1],t}const yn=ln;function An(n,r,t){const c=t??new w(3),u=n[0]*r[1]-n[1]*r[0];return c[0]=0,c[1]=0,c[2]=u,c}function Sn(n,r){return n[0]*r[0]+n[1]*r[1]}function sn(n){const r=n[0],t=n[1];return Math.sqrt(r*r+t*t)}const Tn=sn;function E(n){const r=n[0],t=n[1];return r*r+t*t}const Q=E;function L(n,r){const t=n[0]-r[0],c=n[1]-r[1];return Math.sqrt(t*t+c*c)}const $n=L;function hn(n,r){const t=n[0]-r[0],c=n[1]-r[1];return t*t+c*c}const Nn=hn;function Mn(n,r){const t=r??new w(2),c=n[0],u=n[1],D=Math.sqrt(c*c+u*u);return D>1e-5?(t[0]=c/D,t[1]=u/D):(t[0]=0,t[1]=0),t}function Ln(n,r){const t=r??new w(2);return t[0]=-n[0],t[1]=-n[1],t}function G(n,r){const t=r??new w(2);return t[0]=n[0],t[1]=n[1],t}const On=G;function gn(n,r,t){const c=t??new w(2);return c[0]=n[0]*r[0],c[1]=n[1]*r[1],c}const En=gn;function zn(n,r,t){const c=t??new w(2);return c[0]=n[0]/r[0],c[1]=n[1]/r[1],c}const Vn=zn;function qn(n=1,r){const t=r??new w(2),c=Math.random()*2*Math.PI;return t[0]=Math.cos(c)*n,t[1]=Math.sin(c)*n,t}function o(n){const r=n??new w(2);return r[0]=0,r[1]=0,r}function l(n,r,t){const c=t??new w(2),u=n[0],D=n[1];return c[0]=u*r[0]+D*r[4]+r[12],c[1]=u*r[1]+D*r[5]+r[13],c}function s(n,r,t){const c=t??new w(2),u=n[0],D=n[1];return c[0]=r[0]*u+r[4]*D+r[8],c[1]=r[1]*u+r[5]*D+r[9],c}function e(n,r,t,c){const u=c??new w(2),D=n[0]-r[0],y=n[1]-r[1],i=Math.sin(t),f=Math.cos(t);return u[0]=D*f-y*i+r[0],u[1]=D*i+y*f+r[1],u}function a(n,r,t){const c=t??new w(2);return Mn(n,c),W(c,r,c)}function h(n,r,t){const c=t??new w(2);return sn(n)>r?a(n,r,c):G(n,c)}function x(n,r,t){const c=t??new w(2);return m(n,r,.5,c)}return{create:A,fromValues:X,set:Y,ceil:T,floor:V,round:U,clamp:O,add:H,addScaled:j,angle:_,subtract:v,sub:J,equalsApproximately:B,equals:k,lerp:m,lerpV:b,max:C,min:R,mulScalar:W,scale:F,divScalar:wn,inverse:ln,invert:yn,cross:An,dot:Sn,length:sn,len:Tn,lengthSq:E,lenSq:Q,distance:L,dist:$n,distanceSq:hn,distSq:Nn,normalize:Mn,negate:Ln,copy:G,clone:On,multiply:gn,mul:En,divide:zn,div:Vn,random:qn,zero:o,transformMat4:l,transformMat3:s,rotate:e,setLength:a,truncate:h,midpoint:x}}const Jn=new Map;function nt(w){let A=Jn.get(w);return A||(A=ot(w),Jn.set(w,A)),A}function et(w){function A(i,f,M){const d=new w(3);return i!==void 0&&(d[0]=i,f!==void 0&&(d[1]=f,M!==void 0&&(d[2]=M))),d}const X=A;function Y(i,f,M,d){const p=d??new w(3);return p[0]=i,p[1]=f,p[2]=M,p}function T(i,f){const M=f??new w(3);return M[0]=Math.ceil(i[0]),M[1]=Math.ceil(i[1]),M[2]=Math.ceil(i[2]),M}function V(i,f){const M=f??new w(3);return M[0]=Math.floor(i[0]),M[1]=Math.floor(i[1]),M[2]=Math.floor(i[2]),M}function U(i,f){const M=f??new w(3);return M[0]=Math.round(i[0]),M[1]=Math.round(i[1]),M[2]=Math.round(i[2]),M}function O(i,f=0,M=1,d){const p=d??new w(3);return p[0]=Math.min(M,Math.max(f,i[0])),p[1]=Math.min(M,Math.max(f,i[1])),p[2]=Math.min(M,Math.max(f,i[2])),p}function H(i,f,M){const d=M??new w(3);return d[0]=i[0]+f[0],d[1]=i[1]+f[1],d[2]=i[2]+f[2],d}function j(i,f,M,d){const p=d??new w(3);return p[0]=i[0]+f[0]*M,p[1]=i[1]+f[1]*M,p[2]=i[2]+f[2]*M,p}function _(i,f){const M=i[0],d=i[1],p=i[2],g=f[0],z=f[1],q=f[2],I=Math.sqrt(M*M+d*d+p*p),S=Math.sqrt(g*g+z*z+q*q),P=I*S,N=P&&Sn(i,f)/P;return Math.acos(N)}function v(i,f,M){const d=M??new w(3);return d[0]=i[0]-f[0],d[1]=i[1]-f[1],d[2]=i[2]-f[2],d}const J=v;function B(i,f){return Math.abs(i[0]-f[0])<$&&Math.abs(i[1]-f[1])<$&&Math.abs(i[2]-f[2])<$}function k(i,f){return i[0]===f[0]&&i[1]===f[1]&&i[2]===f[2]}function m(i,f,M,d){const p=d??new w(3);return p[0]=i[0]+M*(f[0]-i[0]),p[1]=i[1]+M*(f[1]-i[1]),p[2]=i[2]+M*(f[2]-i[2]),p}function b(i,f,M,d){const p=d??new w(3);return p[0]=i[0]+M[0]*(f[0]-i[0]),p[1]=i[1]+M[1]*(f[1]-i[1]),p[2]=i[2]+M[2]*(f[2]-i[2]),p}function C(i,f,M){const d=M??new w(3);return d[0]=Math.max(i[0],f[0]),d[1]=Math.max(i[1],f[1]),d[2]=Math.max(i[2],f[2]),d}function R(i,f,M){const d=M??new w(3);return d[0]=Math.min(i[0],f[0]),d[1]=Math.min(i[1],f[1]),d[2]=Math.min(i[2],f[2]),d}function W(i,f,M){const d=M??new w(3);return d[0]=i[0]*f,d[1]=i[1]*f,d[2]=i[2]*f,d}const F=W;function wn(i,f,M){const d=M??new w(3);return d[0]=i[0]/f,d[1]=i[1]/f,d[2]=i[2]/f,d}function ln(i,f){const M=f??new w(3);return M[0]=1/i[0],M[1]=1/i[1],M[2]=1/i[2],M}const yn=ln;function An(i,f,M){const d=M??new w(3),p=i[2]*f[0]-i[0]*f[2],g=i[0]*f[1]-i[1]*f[0];return d[0]=i[1]*f[2]-i[2]*f[1],d[1]=p,d[2]=g,d}function Sn(i,f){return i[0]*f[0]+i[1]*f[1]+i[2]*f[2]}function sn(i){const f=i[0],M=i[1],d=i[2];return Math.sqrt(f*f+M*M+d*d)}const Tn=sn;function E(i){const f=i[0],M=i[1],d=i[2];return f*f+M*M+d*d}const Q=E;function L(i,f){const M=i[0]-f[0],d=i[1]-f[1],p=i[2]-f[2];return Math.sqrt(M*M+d*d+p*p)}const $n=L;function hn(i,f){const M=i[0]-f[0],d=i[1]-f[1],p=i[2]-f[2];return M*M+d*d+p*p}const Nn=hn;function Mn(i,f){const M=f??new w(3),d=i[0],p=i[1],g=i[2],z=Math.sqrt(d*d+p*p+g*g);return z>1e-5?(M[0]=d/z,M[1]=p/z,M[2]=g/z):(M[0]=0,M[1]=0,M[2]=0),M}function Ln(i,f){const M=f??new w(3);return M[0]=-i[0],M[1]=-i[1],M[2]=-i[2],M}function G(i,f){const M=f??new w(3);return M[0]=i[0],M[1]=i[1],M[2]=i[2],M}const On=G;function gn(i,f,M){const d=M??new w(3);return d[0]=i[0]*f[0],d[1]=i[1]*f[1],d[2]=i[2]*f[2],d}const En=gn;function zn(i,f,M){const d=M??new w(3);return d[0]=i[0]/f[0],d[1]=i[1]/f[1],d[2]=i[2]/f[2],d}const Vn=zn;function qn(i=1,f){const M=f??new w(3),d=Math.random()*2*Math.PI,p=Math.random()*2-1,g=Math.sqrt(1-p*p)*i;return M[0]=Math.cos(d)*g,M[1]=Math.sin(d)*g,M[2]=p*i,M}function o(i){const f=i??new w(3);return f[0]=0,f[1]=0,f[2]=0,f}function l(i,f,M){const d=M??new w(3),p=i[0],g=i[1],z=i[2],q=f[3]*p+f[7]*g+f[11]*z+f[15]||1;return d[0]=(f[0]*p+f[4]*g+f[8]*z+f[12])/q,d[1]=(f[1]*p+f[5]*g+f[9]*z+f[13])/q,d[2]=(f[2]*p+f[6]*g+f[10]*z+f[14])/q,d}function s(i,f,M){const d=M??new w(3),p=i[0],g=i[1],z=i[2];return d[0]=p*f[0*4+0]+g*f[1*4+0]+z*f[2*4+0],d[1]=p*f[0*4+1]+g*f[1*4+1]+z*f[2*4+1],d[2]=p*f[0*4+2]+g*f[1*4+2]+z*f[2*4+2],d}function e(i,f,M){const d=M??new w(3),p=i[0],g=i[1],z=i[2];return d[0]=p*f[0]+g*f[4]+z*f[8],d[1]=p*f[1]+g*f[5]+z*f[9],d[2]=p*f[2]+g*f[6]+z*f[10],d}function a(i,f,M){const d=M??new w(3),p=f[0],g=f[1],z=f[2],q=f[3]*2,I=i[0],S=i[1],P=i[2],N=g*P-z*S,Z=z*I-p*P,K=p*S-g*I;return d[0]=I+N*q+(g*K-z*Z)*2,d[1]=S+Z*q+(z*N-p*K)*2,d[2]=P+K*q+(p*Z-g*N)*2,d}function h(i,f){const M=f??new w(3);return M[0]=i[12],M[1]=i[13],M[2]=i[14],M}function x(i,f,M){const d=M??new w(3),p=f*4;return d[0]=i[p+0],d[1]=i[p+1],d[2]=i[p+2],d}function n(i,f){const M=f??new w(3),d=i[0],p=i[1],g=i[2],z=i[4],q=i[5],I=i[6],S=i[8],P=i[9],N=i[10];return M[0]=Math.sqrt(d*d+p*p+g*g),M[1]=Math.sqrt(z*z+q*q+I*I),M[2]=Math.sqrt(S*S+P*P+N*N),M}function r(i,f,M,d){const p=d??new w(3),g=[],z=[];return g[0]=i[0]-f[0],g[1]=i[1]-f[1],g[2]=i[2]-f[2],z[0]=g[0],z[1]=g[1]*Math.cos(M)-g[2]*Math.sin(M),z[2]=g[1]*Math.sin(M)+g[2]*Math.cos(M),p[0]=z[0]+f[0],p[1]=z[1]+f[1],p[2]=z[2]+f[2],p}function t(i,f,M,d){const p=d??new w(3),g=[],z=[];return g[0]=i[0]-f[0],g[1]=i[1]-f[1],g[2]=i[2]-f[2],z[0]=g[2]*Math.sin(M)+g[0]*Math.cos(M),z[1]=g[1],z[2]=g[2]*Math.cos(M)-g[0]*Math.sin(M),p[0]=z[0]+f[0],p[1]=z[1]+f[1],p[2]=z[2]+f[2],p}function c(i,f,M,d){const p=d??new w(3),g=[],z=[];return g[0]=i[0]-f[0],g[1]=i[1]-f[1],g[2]=i[2]-f[2],z[0]=g[0]*Math.cos(M)-g[1]*Math.sin(M),z[1]=g[0]*Math.sin(M)+g[1]*Math.cos(M),z[2]=g[2],p[0]=z[0]+f[0],p[1]=z[1]+f[1],p[2]=z[2]+f[2],p}function u(i,f,M){const d=M??new w(3);return Mn(i,d),W(d,f,d)}function D(i,f,M){const d=M??new w(3);return sn(i)>f?u(i,f,d):G(i,d)}function y(i,f,M){const d=M??new w(3);return m(i,f,.5,d)}return{create:A,fromValues:X,set:Y,ceil:T,floor:V,round:U,clamp:O,add:H,addScaled:j,angle:_,subtract:v,sub:J,equalsApproximately:B,equals:k,lerp:m,lerpV:b,max:C,min:R,mulScalar:W,scale:F,divScalar:wn,inverse:ln,invert:yn,cross:An,dot:Sn,length:sn,len:Tn,lengthSq:E,lenSq:Q,distance:L,dist:$n,distanceSq:hn,distSq:Nn,normalize:Mn,negate:Ln,copy:G,clone:On,multiply:gn,mul:En,divide:zn,div:Vn,random:qn,zero:o,transformMat4:l,transformMat4Upper3x3:s,transformMat3:e,transformQuat:a,getTranslation:h,getAxis:x,getScaling:n,rotateX:r,rotateY:t,rotateZ:c,setLength:u,truncate:D,midpoint:y}}const Rn=new Map;function vn(w){let A=Rn.get(w);return A||(A=et(w),Rn.set(w,A)),A}function rt(w){const A=nt(w),X=vn(w);function Y(o,l,s,e,a,h,x,n,r){const t=new w(12);return t[3]=0,t[7]=0,t[11]=0,o!==void 0&&(t[0]=o,l!==void 0&&(t[1]=l,s!==void 0&&(t[2]=s,e!==void 0&&(t[4]=e,a!==void 0&&(t[5]=a,h!==void 0&&(t[6]=h,x!==void 0&&(t[8]=x,n!==void 0&&(t[9]=n,r!==void 0&&(t[10]=r))))))))),t}function T(o,l,s,e,a,h,x,n,r,t){const c=t??new w(12);return c[0]=o,c[1]=l,c[2]=s,c[3]=0,c[4]=e,c[5]=a,c[6]=h,c[7]=0,c[8]=x,c[9]=n,c[10]=r,c[11]=0,c}function V(o,l){const s=l??new w(12);return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=0,s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=0,s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=0,s}function U(o,l){const s=l??new w(12),e=o[0],a=o[1],h=o[2],x=o[3],n=e+e,r=a+a,t=h+h,c=e*n,u=a*n,D=a*r,y=h*n,i=h*r,f=h*t,M=x*n,d=x*r,p=x*t;return s[0]=1-D-f,s[1]=u+p,s[2]=y-d,s[3]=0,s[4]=u-p,s[5]=1-c-f,s[6]=i+M,s[7]=0,s[8]=y+d,s[9]=i-M,s[10]=1-c-D,s[11]=0,s}function O(o,l){const s=l??new w(12);return s[0]=-o[0],s[1]=-o[1],s[2]=-o[2],s[4]=-o[4],s[5]=-o[5],s[6]=-o[6],s[8]=-o[8],s[9]=-o[9],s[10]=-o[10],s}function H(o,l){const s=l??new w(12);return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[8]=o[8],s[9]=o[9],s[10]=o[10],s}const j=H;function _(o,l){return Math.abs(o[0]-l[0])<$&&Math.abs(o[1]-l[1])<$&&Math.abs(o[2]-l[2])<$&&Math.abs(o[4]-l[4])<$&&Math.abs(o[5]-l[5])<$&&Math.abs(o[6]-l[6])<$&&Math.abs(o[8]-l[8])<$&&Math.abs(o[9]-l[9])<$&&Math.abs(o[10]-l[10])<$}function v(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[4]===l[4]&&o[5]===l[5]&&o[6]===l[6]&&o[8]===l[8]&&o[9]===l[9]&&o[10]===l[10]}function J(o){const l=o??new w(12);return l[0]=1,l[1]=0,l[2]=0,l[4]=0,l[5]=1,l[6]=0,l[8]=0,l[9]=0,l[10]=1,l}function B(o,l){const s=l??new w(12);if(s===o){let D;return D=o[1],o[1]=o[4],o[4]=D,D=o[2],o[2]=o[8],o[8]=D,D=o[6],o[6]=o[9],o[9]=D,s}const e=o[0*4+0],a=o[0*4+1],h=o[0*4+2],x=o[1*4+0],n=o[1*4+1],r=o[1*4+2],t=o[2*4+0],c=o[2*4+1],u=o[2*4+2];return s[0]=e,s[1]=x,s[2]=t,s[4]=a,s[5]=n,s[6]=c,s[8]=h,s[9]=r,s[10]=u,s}function k(o,l){const s=l??new w(12),e=o[0*4+0],a=o[0*4+1],h=o[0*4+2],x=o[1*4+0],n=o[1*4+1],r=o[1*4+2],t=o[2*4+0],c=o[2*4+1],u=o[2*4+2],D=u*n-r*c,y=-u*x+r*t,i=c*x-n*t,f=1/(e*D+a*y+h*i);return s[0]=D*f,s[1]=(-u*a+h*c)*f,s[2]=(r*a-h*n)*f,s[4]=y*f,s[5]=(u*e-h*t)*f,s[6]=(-r*e+h*x)*f,s[8]=i*f,s[9]=(-c*e+a*t)*f,s[10]=(n*e-a*x)*f,s}function m(o){const l=o[0],s=o[0*4+1],e=o[0*4+2],a=o[1*4+0],h=o[1*4+1],x=o[1*4+2],n=o[2*4+0],r=o[2*4+1],t=o[2*4+2];return l*(h*t-r*x)-a*(s*t-r*e)+n*(s*x-h*e)}const b=k;function C(o,l,s){const e=s??new w(12),a=o[0],h=o[1],x=o[2],n=o[4],r=o[5],t=o[6],c=o[8],u=o[9],D=o[10],y=l[0],i=l[1],f=l[2],M=l[4],d=l[5],p=l[6],g=l[8],z=l[9],q=l[10];return e[0]=a*y+n*i+c*f,e[1]=h*y+r*i+u*f,e[2]=x*y+t*i+D*f,e[4]=a*M+n*d+c*p,e[5]=h*M+r*d+u*p,e[6]=x*M+t*d+D*p,e[8]=a*g+n*z+c*q,e[9]=h*g+r*z+u*q,e[10]=x*g+t*z+D*q,e}const R=C;function W(o,l,s){const e=s??J();return o!==e&&(e[0]=o[0],e[1]=o[1],e[2]=o[2],e[4]=o[4],e[5]=o[5],e[6]=o[6]),e[8]=l[0],e[9]=l[1],e[10]=1,e}function F(o,l){const s=l??A.create();return s[0]=o[8],s[1]=o[9],s}function wn(o,l,s){const e=s??A.create(),a=l*4;return e[0]=o[a+0],e[1]=o[a+1],e}function ln(o,l,s,e){const a=e===o?o:H(o,e),h=s*4;return a[h+0]=l[0],a[h+1]=l[1],a}function yn(o,l){const s=l??A.create(),e=o[0],a=o[1],h=o[4],x=o[5];return s[0]=Math.sqrt(e*e+a*a),s[1]=Math.sqrt(h*h+x*x),s}function An(o,l){const s=l??X.create(),e=o[0],a=o[1],h=o[2],x=o[4],n=o[5],r=o[6],t=o[8],c=o[9],u=o[10];return s[0]=Math.sqrt(e*e+a*a+h*h),s[1]=Math.sqrt(x*x+n*n+r*r),s[2]=Math.sqrt(t*t+c*c+u*u),s}function Sn(o,l){const s=l??new w(12);return s[0]=1,s[1]=0,s[2]=0,s[4]=0,s[5]=1,s[6]=0,s[8]=o[0],s[9]=o[1],s[10]=1,s}function sn(o,l,s){const e=s??new w(12),a=l[0],h=l[1],x=o[0],n=o[1],r=o[2],t=o[1*4+0],c=o[1*4+1],u=o[1*4+2],D=o[2*4+0],y=o[2*4+1],i=o[2*4+2];return o!==e&&(e[0]=x,e[1]=n,e[2]=r,e[4]=t,e[5]=c,e[6]=u),e[8]=x*a+t*h+D,e[9]=n*a+c*h+y,e[10]=r*a+u*h+i,e}function Tn(o,l){const s=l??new w(12),e=Math.cos(o),a=Math.sin(o);return s[0]=e,s[1]=a,s[2]=0,s[4]=-a,s[5]=e,s[6]=0,s[8]=0,s[9]=0,s[10]=1,s}function E(o,l,s){const e=s??new w(12),a=o[0*4+0],h=o[0*4+1],x=o[0*4+2],n=o[1*4+0],r=o[1*4+1],t=o[1*4+2],c=Math.cos(l),u=Math.sin(l);return e[0]=c*a+u*n,e[1]=c*h+u*r,e[2]=c*x+u*t,e[4]=c*n-u*a,e[5]=c*r-u*h,e[6]=c*t-u*x,o!==e&&(e[8]=o[8],e[9]=o[9],e[10]=o[10]),e}function Q(o,l){const s=l??new w(12),e=Math.cos(o),a=Math.sin(o);return s[0]=1,s[1]=0,s[2]=0,s[4]=0,s[5]=e,s[6]=a,s[8]=0,s[9]=-a,s[10]=e,s}function L(o,l,s){const e=s??new w(12),a=o[4],h=o[5],x=o[6],n=o[8],r=o[9],t=o[10],c=Math.cos(l),u=Math.sin(l);return e[4]=c*a+u*n,e[5]=c*h+u*r,e[6]=c*x+u*t,e[8]=c*n-u*a,e[9]=c*r-u*h,e[10]=c*t-u*x,o!==e&&(e[0]=o[0],e[1]=o[1],e[2]=o[2]),e}function $n(o,l){const s=l??new w(12),e=Math.cos(o),a=Math.sin(o);return s[0]=e,s[1]=0,s[2]=-a,s[4]=0,s[5]=1,s[6]=0,s[8]=a,s[9]=0,s[10]=e,s}function hn(o,l,s){const e=s??new w(12),a=o[0*4+0],h=o[0*4+1],x=o[0*4+2],n=o[2*4+0],r=o[2*4+1],t=o[2*4+2],c=Math.cos(l),u=Math.sin(l);return e[0]=c*a-u*n,e[1]=c*h-u*r,e[2]=c*x-u*t,e[8]=c*n+u*a,e[9]=c*r+u*h,e[10]=c*t+u*x,o!==e&&(e[4]=o[4],e[5]=o[5],e[6]=o[6]),e}const Nn=Tn,Mn=E;function Ln(o,l){const s=l??new w(12);return s[0]=o[0],s[1]=0,s[2]=0,s[4]=0,s[5]=o[1],s[6]=0,s[8]=0,s[9]=0,s[10]=1,s}function G(o,l,s){const e=s??new w(12),a=l[0],h=l[1];return e[0]=a*o[0*4+0],e[1]=a*o[0*4+1],e[2]=a*o[0*4+2],e[4]=h*o[1*4+0],e[5]=h*o[1*4+1],e[6]=h*o[1*4+2],o!==e&&(e[8]=o[8],e[9]=o[9],e[10]=o[10]),e}function On(o,l){const s=l??new w(12);return s[0]=o[0],s[1]=0,s[2]=0,s[4]=0,s[5]=o[1],s[6]=0,s[8]=0,s[9]=0,s[10]=o[2],s}function gn(o,l,s){const e=s??new w(12),a=l[0],h=l[1],x=l[2];return e[0]=a*o[0*4+0],e[1]=a*o[0*4+1],e[2]=a*o[0*4+2],e[4]=h*o[1*4+0],e[5]=h*o[1*4+1],e[6]=h*o[1*4+2],e[8]=x*o[2*4+0],e[9]=x*o[2*4+1],e[10]=x*o[2*4+2],e}function En(o,l){const s=l??new w(12);return s[0]=o,s[1]=0,s[2]=0,s[4]=0,s[5]=o,s[6]=0,s[8]=0,s[9]=0,s[10]=1,s}function zn(o,l,s){const e=s??new w(12);return e[0]=l*o[0*4+0],e[1]=l*o[0*4+1],e[2]=l*o[0*4+2],e[4]=l*o[1*4+0],e[5]=l*o[1*4+1],e[6]=l*o[1*4+2],o!==e&&(e[8]=o[8],e[9]=o[9],e[10]=o[10]),e}function Vn(o,l){const s=l??new w(12);return s[0]=o,s[1]=0,s[2]=0,s[4]=0,s[5]=o,s[6]=0,s[8]=0,s[9]=0,s[10]=o,s}function qn(o,l,s){const e=s??new w(12);return e[0]=l*o[0*4+0],e[1]=l*o[0*4+1],e[2]=l*o[0*4+2],e[4]=l*o[1*4+0],e[5]=l*o[1*4+1],e[6]=l*o[1*4+2],e[8]=l*o[2*4+0],e[9]=l*o[2*4+1],e[10]=l*o[2*4+2],e}return{clone:j,create:Y,set:T,fromMat4:V,fromQuat:U,negate:O,copy:H,equalsApproximately:_,equals:v,identity:J,transpose:B,inverse:k,invert:b,determinant:m,mul:R,multiply:C,setTranslation:W,getTranslation:F,getAxis:wn,setAxis:ln,getScaling:yn,get3DScaling:An,translation:Sn,translate:sn,rotation:Tn,rotate:E,rotationX:Q,rotateX:L,rotationY:$n,rotateY:hn,rotationZ:Nn,rotateZ:Mn,scaling:Ln,scale:G,uniformScaling:En,uniformScale:zn,scaling3D:On,scale3D:gn,uniformScaling3D:Vn,uniformScale3D:qn}}const kn=new Map;function it(w){let A=kn.get(w);return A||(A=rt(w),kn.set(w,A)),A}function ut(w){const A=vn(w);function X(n,r,t,c,u,D,y,i,f,M,d,p,g,z,q,I){const S=new w(16);return n!==void 0&&(S[0]=n,r!==void 0&&(S[1]=r,t!==void 0&&(S[2]=t,c!==void 0&&(S[3]=c,u!==void 0&&(S[4]=u,D!==void 0&&(S[5]=D,y!==void 0&&(S[6]=y,i!==void 0&&(S[7]=i,f!==void 0&&(S[8]=f,M!==void 0&&(S[9]=M,d!==void 0&&(S[10]=d,p!==void 0&&(S[11]=p,g!==void 0&&(S[12]=g,z!==void 0&&(S[13]=z,q!==void 0&&(S[14]=q,I!==void 0&&(S[15]=I)))))))))))))))),S}function Y(n,r,t,c,u,D,y,i,f,M,d,p,g,z,q,I,S){const P=S??new w(16);return P[0]=n,P[1]=r,P[2]=t,P[3]=c,P[4]=u,P[5]=D,P[6]=y,P[7]=i,P[8]=f,P[9]=M,P[10]=d,P[11]=p,P[12]=g,P[13]=z,P[14]=q,P[15]=I,P}function T(n,r){const t=r??new w(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=0,t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=0,t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function V(n,r){const t=r??new w(16),c=n[0],u=n[1],D=n[2],y=n[3],i=c+c,f=u+u,M=D+D,d=c*i,p=u*i,g=u*f,z=D*i,q=D*f,I=D*M,S=y*i,P=y*f,N=y*M;return t[0]=1-g-I,t[1]=p+N,t[2]=z-P,t[3]=0,t[4]=p-N,t[5]=1-d-I,t[6]=q+S,t[7]=0,t[8]=z+P,t[9]=q-S,t[10]=1-d-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(n,r){const t=r??new w(16);return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=-n[7],t[8]=-n[8],t[9]=-n[9],t[10]=-n[10],t[11]=-n[11],t[12]=-n[12],t[13]=-n[13],t[14]=-n[14],t[15]=-n[15],t}function O(n,r){const t=r??new w(16);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}const H=O;function j(n,r){return Math.abs(n[0]-r[0])<$&&Math.abs(n[1]-r[1])<$&&Math.abs(n[2]-r[2])<$&&Math.abs(n[3]-r[3])<$&&Math.abs(n[4]-r[4])<$&&Math.abs(n[5]-r[5])<$&&Math.abs(n[6]-r[6])<$&&Math.abs(n[7]-r[7])<$&&Math.abs(n[8]-r[8])<$&&Math.abs(n[9]-r[9])<$&&Math.abs(n[10]-r[10])<$&&Math.abs(n[11]-r[11])<$&&Math.abs(n[12]-r[12])<$&&Math.abs(n[13]-r[13])<$&&Math.abs(n[14]-r[14])<$&&Math.abs(n[15]-r[15])<$}function _(n,r){return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]&&n[4]===r[4]&&n[5]===r[5]&&n[6]===r[6]&&n[7]===r[7]&&n[8]===r[8]&&n[9]===r[9]&&n[10]===r[10]&&n[11]===r[11]&&n[12]===r[12]&&n[13]===r[13]&&n[14]===r[14]&&n[15]===r[15]}function v(n){const r=n??new w(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function J(n,r){const t=r??new w(16);if(t===n){let Z;return Z=n[1],n[1]=n[4],n[4]=Z,Z=n[2],n[2]=n[8],n[8]=Z,Z=n[3],n[3]=n[12],n[12]=Z,Z=n[6],n[6]=n[9],n[9]=Z,Z=n[7],n[7]=n[13],n[13]=Z,Z=n[11],n[11]=n[14],n[14]=Z,t}const c=n[0*4+0],u=n[0*4+1],D=n[0*4+2],y=n[0*4+3],i=n[1*4+0],f=n[1*4+1],M=n[1*4+2],d=n[1*4+3],p=n[2*4+0],g=n[2*4+1],z=n[2*4+2],q=n[2*4+3],I=n[3*4+0],S=n[3*4+1],P=n[3*4+2],N=n[3*4+3];return t[0]=c,t[1]=i,t[2]=p,t[3]=I,t[4]=u,t[5]=f,t[6]=g,t[7]=S,t[8]=D,t[9]=M,t[10]=z,t[11]=P,t[12]=y,t[13]=d,t[14]=q,t[15]=N,t}function B(n,r){const t=r??new w(16),c=n[0*4+0],u=n[0*4+1],D=n[0*4+2],y=n[0*4+3],i=n[1*4+0],f=n[1*4+1],M=n[1*4+2],d=n[1*4+3],p=n[2*4+0],g=n[2*4+1],z=n[2*4+2],q=n[2*4+3],I=n[3*4+0],S=n[3*4+1],P=n[3*4+2],N=n[3*4+3],Z=z*N,K=P*q,nn=M*N,tn=P*d,cn=M*q,on=z*d,en=D*N,rn=P*y,un=D*q,fn=z*y,Dn=D*d,dn=M*y,pn=p*S,xn=I*g,Pn=i*S,Fn=I*f,In=i*g,Zn=p*f,Xn=c*S,Yn=I*u,Hn=c*g,Qn=p*u,Un=c*f,jn=i*u,_n=Z*f+tn*g+cn*S-(K*f+nn*g+on*S),Bn=K*u+en*g+fn*S-(Z*u+rn*g+un*S),Kn=nn*u+rn*f+Dn*S-(tn*u+en*f+dn*S),Wn=on*u+un*f+dn*g-(cn*u+fn*f+Dn*g),an=1/(c*_n+i*Bn+p*Kn+I*Wn);return t[0]=an*_n,t[1]=an*Bn,t[2]=an*Kn,t[3]=an*Wn,t[4]=an*(K*i+nn*p+on*I-(Z*i+tn*p+cn*I)),t[5]=an*(Z*c+rn*p+un*I-(K*c+en*p+fn*I)),t[6]=an*(tn*c+en*i+dn*I-(nn*c+rn*i+Dn*I)),t[7]=an*(cn*c+fn*i+Dn*p-(on*c+un*i+dn*p)),t[8]=an*(pn*d+Fn*q+In*N-(xn*d+Pn*q+Zn*N)),t[9]=an*(xn*y+Xn*q+Qn*N-(pn*y+Yn*q+Hn*N)),t[10]=an*(Pn*y+Yn*d+Un*N-(Fn*y+Xn*d+jn*N)),t[11]=an*(Zn*y+Hn*d+jn*q-(In*y+Qn*d+Un*q)),t[12]=an*(Pn*z+Zn*P+xn*M-(In*P+pn*M+Fn*z)),t[13]=an*(Hn*P+pn*D+Yn*z-(Xn*z+Qn*P+xn*D)),t[14]=an*(Xn*M+jn*P+Fn*D-(Un*P+Pn*D+Yn*M)),t[15]=an*(Un*z+In*D+Qn*M-(Hn*M+jn*z+Zn*D)),t}function k(n){const r=n[0],t=n[0*4+1],c=n[0*4+2],u=n[0*4+3],D=n[1*4+0],y=n[1*4+1],i=n[1*4+2],f=n[1*4+3],M=n[2*4+0],d=n[2*4+1],p=n[2*4+2],g=n[2*4+3],z=n[3*4+0],q=n[3*4+1],I=n[3*4+2],S=n[3*4+3],P=p*S,N=I*g,Z=i*S,K=I*f,nn=i*g,tn=p*f,cn=c*S,on=I*u,en=c*g,rn=p*u,un=c*f,fn=i*u,Dn=P*y+K*d+nn*q-(N*y+Z*d+tn*q),dn=N*t+cn*d+rn*q-(P*t+on*d+en*q),pn=Z*t+on*y+un*q-(K*t+cn*y+fn*q),xn=tn*t+en*y+fn*d-(nn*t+rn*y+un*d);return r*Dn+D*dn+M*pn+z*xn}const m=B;function b(n,r,t){const c=t??new w(16),u=n[0],D=n[1],y=n[2],i=n[3],f=n[4],M=n[5],d=n[6],p=n[7],g=n[8],z=n[9],q=n[10],I=n[11],S=n[12],P=n[13],N=n[14],Z=n[15],K=r[0],nn=r[1],tn=r[2],cn=r[3],on=r[4],en=r[5],rn=r[6],un=r[7],fn=r[8],Dn=r[9],dn=r[10],pn=r[11],xn=r[12],Pn=r[13],Fn=r[14],In=r[15];return c[0]=u*K+f*nn+g*tn+S*cn,c[1]=D*K+M*nn+z*tn+P*cn,c[2]=y*K+d*nn+q*tn+N*cn,c[3]=i*K+p*nn+I*tn+Z*cn,c[4]=u*on+f*en+g*rn+S*un,c[5]=D*on+M*en+z*rn+P*un,c[6]=y*on+d*en+q*rn+N*un,c[7]=i*on+p*en+I*rn+Z*un,c[8]=u*fn+f*Dn+g*dn+S*pn,c[9]=D*fn+M*Dn+z*dn+P*pn,c[10]=y*fn+d*Dn+q*dn+N*pn,c[11]=i*fn+p*Dn+I*dn+Z*pn,c[12]=u*xn+f*Pn+g*Fn+S*In,c[13]=D*xn+M*Pn+z*Fn+P*In,c[14]=y*xn+d*Pn+q*Fn+N*In,c[15]=i*xn+p*Pn+I*Fn+Z*In,c}const C=b;function R(n,r,t){const c=t??v();return n!==c&&(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11]),c[12]=r[0],c[13]=r[1],c[14]=r[2],c[15]=1,c}function W(n,r){const t=r??A.create();return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function F(n,r,t){const c=t??A.create(),u=r*4;return c[0]=n[u+0],c[1]=n[u+1],c[2]=n[u+2],c}function wn(n,r,t,c){const u=c===n?c:O(n,c),D=t*4;return u[D+0]=r[0],u[D+1]=r[1],u[D+2]=r[2],u}function ln(n,r){const t=r??A.create(),c=n[0],u=n[1],D=n[2],y=n[4],i=n[5],f=n[6],M=n[8],d=n[9],p=n[10];return t[0]=Math.sqrt(c*c+u*u+D*D),t[1]=Math.sqrt(y*y+i*i+f*f),t[2]=Math.sqrt(M*M+d*d+p*p),t}function yn(n,r,t,c,u){const D=u??new w(16),y=Math.tan(Math.PI*.5-.5*n);if(D[0]=y/r,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=y,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,Number.isFinite(c)){const i=1/(t-c);D[10]=c*i,D[14]=c*t*i}else D[10]=-1,D[14]=-t;return D}function An(n,r,t,c=1/0,u){const D=u??new w(16),y=1/Math.tan(n*.5);if(D[0]=y/r,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=y,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,c===1/0)D[10]=0,D[14]=t;else{const i=1/(c-t);D[10]=t*i,D[14]=c*t*i}return D}function Sn(n,r,t,c,u,D,y){const i=y??new w(16);return i[0]=2/(r-n),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(c-t),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1/(u-D),i[11]=0,i[12]=(r+n)/(n-r),i[13]=(c+t)/(t-c),i[14]=u/(u-D),i[15]=1,i}function sn(n,r,t,c,u,D,y){const i=y??new w(16),f=r-n,M=c-t,d=u-D;return i[0]=2*u/f,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*u/M,i[6]=0,i[7]=0,i[8]=(n+r)/f,i[9]=(c+t)/M,i[10]=D/d,i[11]=-1,i[12]=0,i[13]=0,i[14]=u*D/d,i[15]=0,i}function Tn(n,r,t,c,u,D=1/0,y){const i=y??new w(16),f=r-n,M=c-t;if(i[0]=2*u/f,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*u/M,i[6]=0,i[7]=0,i[8]=(n+r)/f,i[9]=(c+t)/M,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,D===1/0)i[10]=0,i[14]=u;else{const d=1/(D-u);i[10]=u*d,i[14]=D*u*d}return i}const E=A.create(),Q=A.create(),L=A.create();function $n(n,r,t,c){const u=c??new w(16);return A.normalize(A.subtract(r,n,L),L),A.normalize(A.cross(t,L,E),E),A.normalize(A.cross(L,E,Q),Q),u[0]=E[0],u[1]=E[1],u[2]=E[2],u[3]=0,u[4]=Q[0],u[5]=Q[1],u[6]=Q[2],u[7]=0,u[8]=L[0],u[9]=L[1],u[10]=L[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function hn(n,r,t,c){const u=c??new w(16);return A.normalize(A.subtract(n,r,L),L),A.normalize(A.cross(t,L,E),E),A.normalize(A.cross(L,E,Q),Q),u[0]=E[0],u[1]=E[1],u[2]=E[2],u[3]=0,u[4]=Q[0],u[5]=Q[1],u[6]=Q[2],u[7]=0,u[8]=L[0],u[9]=L[1],u[10]=L[2],u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u}function Nn(n,r,t,c){const u=c??new w(16);return A.normalize(A.subtract(n,r,L),L),A.normalize(A.cross(t,L,E),E),A.normalize(A.cross(L,E,Q),Q),u[0]=E[0],u[1]=Q[0],u[2]=L[0],u[3]=0,u[4]=E[1],u[5]=Q[1],u[6]=L[1],u[7]=0,u[8]=E[2],u[9]=Q[2],u[10]=L[2],u[11]=0,u[12]=-(E[0]*n[0]+E[1]*n[1]+E[2]*n[2]),u[13]=-(Q[0]*n[0]+Q[1]*n[1]+Q[2]*n[2]),u[14]=-(L[0]*n[0]+L[1]*n[1]+L[2]*n[2]),u[15]=1,u}function Mn(n,r){const t=r??new w(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ln(n,r,t){const c=t??new w(16),u=r[0],D=r[1],y=r[2],i=n[0],f=n[1],M=n[2],d=n[3],p=n[1*4+0],g=n[1*4+1],z=n[1*4+2],q=n[1*4+3],I=n[2*4+0],S=n[2*4+1],P=n[2*4+2],N=n[2*4+3],Z=n[3*4+0],K=n[3*4+1],nn=n[3*4+2],tn=n[3*4+3];return n!==c&&(c[0]=i,c[1]=f,c[2]=M,c[3]=d,c[4]=p,c[5]=g,c[6]=z,c[7]=q,c[8]=I,c[9]=S,c[10]=P,c[11]=N),c[12]=i*u+p*D+I*y+Z,c[13]=f*u+g*D+S*y+K,c[14]=M*u+z*D+P*y+nn,c[15]=d*u+q*D+N*y+tn,c}function G(n,r){const t=r??new w(16),c=Math.cos(n),u=Math.sin(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=u,t[7]=0,t[8]=0,t[9]=-u,t[10]=c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function On(n,r,t){const c=t??new w(16),u=n[4],D=n[5],y=n[6],i=n[7],f=n[8],M=n[9],d=n[10],p=n[11],g=Math.cos(r),z=Math.sin(r);return c[4]=g*u+z*f,c[5]=g*D+z*M,c[6]=g*y+z*d,c[7]=g*i+z*p,c[8]=g*f-z*u,c[9]=g*M-z*D,c[10]=g*d-z*y,c[11]=g*p-z*i,n!==c&&(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]),c}function gn(n,r){const t=r??new w(16),c=Math.cos(n),u=Math.sin(n);return t[0]=c,t[1]=0,t[2]=-u,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=u,t[9]=0,t[10]=c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function En(n,r,t){const c=t??new w(16),u=n[0*4+0],D=n[0*4+1],y=n[0*4+2],i=n[0*4+3],f=n[2*4+0],M=n[2*4+1],d=n[2*4+2],p=n[2*4+3],g=Math.cos(r),z=Math.sin(r);return c[0]=g*u-z*f,c[1]=g*D-z*M,c[2]=g*y-z*d,c[3]=g*i-z*p,c[8]=g*f+z*u,c[9]=g*M+z*D,c[10]=g*d+z*y,c[11]=g*p+z*i,n!==c&&(c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]),c}function zn(n,r){const t=r??new w(16),c=Math.cos(n),u=Math.sin(n);return t[0]=c,t[1]=u,t[2]=0,t[3]=0,t[4]=-u,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Vn(n,r,t){const c=t??new w(16),u=n[0*4+0],D=n[0*4+1],y=n[0*4+2],i=n[0*4+3],f=n[1*4+0],M=n[1*4+1],d=n[1*4+2],p=n[1*4+3],g=Math.cos(r),z=Math.sin(r);return c[0]=g*u+z*f,c[1]=g*D+z*M,c[2]=g*y+z*d,c[3]=g*i+z*p,c[4]=g*f-z*u,c[5]=g*M-z*D,c[6]=g*d-z*y,c[7]=g*p-z*i,n!==c&&(c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]),c}function qn(n,r,t){const c=t??new w(16);let u=n[0],D=n[1],y=n[2];const i=Math.sqrt(u*u+D*D+y*y);u/=i,D/=i,y/=i;const f=u*u,M=D*D,d=y*y,p=Math.cos(r),g=Math.sin(r),z=1-p;return c[0]=f+(1-f)*p,c[1]=u*D*z+y*g,c[2]=u*y*z-D*g,c[3]=0,c[4]=u*D*z-y*g,c[5]=M+(1-M)*p,c[6]=D*y*z+u*g,c[7]=0,c[8]=u*y*z+D*g,c[9]=D*y*z-u*g,c[10]=d+(1-d)*p,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}const o=qn;function l(n,r,t,c){const u=c??new w(16);let D=r[0],y=r[1],i=r[2];const f=Math.sqrt(D*D+y*y+i*i);D/=f,y/=f,i/=f;const M=D*D,d=y*y,p=i*i,g=Math.cos(t),z=Math.sin(t),q=1-g,I=M+(1-M)*g,S=D*y*q+i*z,P=D*i*q-y*z,N=D*y*q-i*z,Z=d+(1-d)*g,K=y*i*q+D*z,nn=D*i*q+y*z,tn=y*i*q-D*z,cn=p+(1-p)*g,on=n[0],en=n[1],rn=n[2],un=n[3],fn=n[4],Dn=n[5],dn=n[6],pn=n[7],xn=n[8],Pn=n[9],Fn=n[10],In=n[11];return u[0]=I*on+S*fn+P*xn,u[1]=I*en+S*Dn+P*Pn,u[2]=I*rn+S*dn+P*Fn,u[3]=I*un+S*pn+P*In,u[4]=N*on+Z*fn+K*xn,u[5]=N*en+Z*Dn+K*Pn,u[6]=N*rn+Z*dn+K*Fn,u[7]=N*un+Z*pn+K*In,u[8]=nn*on+tn*fn+cn*xn,u[9]=nn*en+tn*Dn+cn*Pn,u[10]=nn*rn+tn*dn+cn*Fn,u[11]=nn*un+tn*pn+cn*In,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}const s=l;function e(n,r){const t=r??new w(16);return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(n,r,t){const c=t??new w(16),u=r[0],D=r[1],y=r[2];return c[0]=u*n[0*4+0],c[1]=u*n[0*4+1],c[2]=u*n[0*4+2],c[3]=u*n[0*4+3],c[4]=D*n[1*4+0],c[5]=D*n[1*4+1],c[6]=D*n[1*4+2],c[7]=D*n[1*4+3],c[8]=y*n[2*4+0],c[9]=y*n[2*4+1],c[10]=y*n[2*4+2],c[11]=y*n[2*4+3],n!==c&&(c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]),c}function h(n,r){const t=r??new w(16);return t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(n,r,t){const c=t??new w(16);return c[0]=r*n[0*4+0],c[1]=r*n[0*4+1],c[2]=r*n[0*4+2],c[3]=r*n[0*4+3],c[4]=r*n[1*4+0],c[5]=r*n[1*4+1],c[6]=r*n[1*4+2],c[7]=r*n[1*4+3],c[8]=r*n[2*4+0],c[9]=r*n[2*4+1],c[10]=r*n[2*4+2],c[11]=r*n[2*4+3],n!==c&&(c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]),c}return{create:X,set:Y,fromMat3:T,fromQuat:V,negate:U,copy:O,clone:H,equalsApproximately:j,equals:_,identity:v,transpose:J,inverse:B,determinant:k,invert:m,multiply:b,mul:C,setTranslation:R,getTranslation:W,getAxis:F,setAxis:wn,getScaling:ln,perspective:yn,perspectiveReverseZ:An,ortho:Sn,frustum:sn,frustumReverseZ:Tn,aim:$n,cameraAim:hn,lookAt:Nn,translation:Mn,translate:Ln,rotationX:G,rotateX:On,rotationY:gn,rotateY:En,rotationZ:zn,rotateZ:Vn,axisRotation:qn,rotation:o,axisRotate:l,rotate:s,scaling:e,scale:a,uniformScaling:h,uniformScale:x}}const mn=new Map;function ft(w){let A=mn.get(w);return A||(A=ut(w),mn.set(w,A)),A}function at(w){const A=vn(w);function X(o,l,s,e){const a=new w(4);return o!==void 0&&(a[0]=o,l!==void 0&&(a[1]=l,s!==void 0&&(a[2]=s,e!==void 0&&(a[3]=e)))),a}const Y=X;function T(o,l,s,e,a){const h=a??new w(4);return h[0]=o,h[1]=l,h[2]=s,h[3]=e,h}function V(o,l,s){const e=s??new w(4),a=l*.5,h=Math.sin(a);return e[0]=h*o[0],e[1]=h*o[1],e[2]=h*o[2],e[3]=Math.cos(a),e}function U(o,l){const s=l??A.create(3),e=Math.acos(o[3])*2,a=Math.sin(e*.5);return a>$?(s[0]=o[0]/a,s[1]=o[1]/a,s[2]=o[2]/a):(s[0]=1,s[1]=0,s[2]=0),{angle:e,axis:s}}function O(o,l){const s=sn(o,l);return Math.acos(2*s*s-1)}function H(o,l,s){const e=s??new w(4),a=o[0],h=o[1],x=o[2],n=o[3],r=l[0],t=l[1],c=l[2],u=l[3];return e[0]=a*u+n*r+h*c-x*t,e[1]=h*u+n*t+x*r-a*c,e[2]=x*u+n*c+a*t-h*r,e[3]=n*u-a*r-h*t-x*c,e}const j=H;function _(o,l,s){const e=s??new w(4),a=l*.5,h=o[0],x=o[1],n=o[2],r=o[3],t=Math.sin(a),c=Math.cos(a);return e[0]=h*c+r*t,e[1]=x*c+n*t,e[2]=n*c-x*t,e[3]=r*c-h*t,e}function v(o,l,s){const e=s??new w(4),a=l*.5,h=o[0],x=o[1],n=o[2],r=o[3],t=Math.sin(a),c=Math.cos(a);return e[0]=h*c-n*t,e[1]=x*c+r*t,e[2]=n*c+h*t,e[3]=r*c-x*t,e}function J(o,l,s){const e=s??new w(4),a=l*.5,h=o[0],x=o[1],n=o[2],r=o[3],t=Math.sin(a),c=Math.cos(a);return e[0]=h*c+x*t,e[1]=x*c-h*t,e[2]=n*c+r*t,e[3]=r*c-n*t,e}function B(o,l,s,e){const a=e??new w(4),h=o[0],x=o[1],n=o[2],r=o[3];let t=l[0],c=l[1],u=l[2],D=l[3],y=h*t+x*c+n*u+r*D;y<0&&(y=-y,t=-t,c=-c,u=-u,D=-D);let i,f;if(1-y>$){const M=Math.acos(y),d=Math.sin(M);i=Math.sin((1-s)*M)/d,f=Math.sin(s*M)/d}else i=1-s,f=s;return a[0]=i*h+f*t,a[1]=i*x+f*c,a[2]=i*n+f*u,a[3]=i*r+f*D,a}function k(o,l){const s=l??new w(4),e=o[0],a=o[1],h=o[2],x=o[3],n=e*e+a*a+h*h+x*x,r=n?1/n:0;return s[0]=-e*r,s[1]=-a*r,s[2]=-h*r,s[3]=x*r,s}function m(o,l){const s=l??new w(4);return s[0]=-o[0],s[1]=-o[1],s[2]=-o[2],s[3]=o[3],s}function b(o,l){const s=l??new w(4),e=o[0]+o[5]+o[10];if(e>0){const a=Math.sqrt(e+1);s[3]=.5*a;const h=.5/a;s[0]=(o[6]-o[9])*h,s[1]=(o[8]-o[2])*h,s[2]=(o[1]-o[4])*h}else{let a=0;o[5]>o[0]&&(a=1),o[10]>o[a*4+a]&&(a=2);const h=(a+1)%3,x=(a+2)%3,n=Math.sqrt(o[a*4+a]-o[h*4+h]-o[x*4+x]+1);s[a]=.5*n;const r=.5/n;s[3]=(o[h*4+x]-o[x*4+h])*r,s[h]=(o[h*4+a]+o[a*4+h])*r,s[x]=(o[x*4+a]+o[a*4+x])*r}return s}function C(o,l,s,e,a){const h=a??new w(4),x=o*.5,n=l*.5,r=s*.5,t=Math.sin(x),c=Math.cos(x),u=Math.sin(n),D=Math.cos(n),y=Math.sin(r),i=Math.cos(r);switch(e){case"xyz":h[0]=t*D*i+c*u*y,h[1]=c*u*i-t*D*y,h[2]=c*D*y+t*u*i,h[3]=c*D*i-t*u*y;break;case"xzy":h[0]=t*D*i-c*u*y,h[1]=c*u*i-t*D*y,h[2]=c*D*y+t*u*i,h[3]=c*D*i+t*u*y;break;case"yxz":h[0]=t*D*i+c*u*y,h[1]=c*u*i-t*D*y,h[2]=c*D*y-t*u*i,h[3]=c*D*i+t*u*y;break;case"yzx":h[0]=t*D*i+c*u*y,h[1]=c*u*i+t*D*y,h[2]=c*D*y-t*u*i,h[3]=c*D*i-t*u*y;break;case"zxy":h[0]=t*D*i-c*u*y,h[1]=c*u*i+t*D*y,h[2]=c*D*y+t*u*i,h[3]=c*D*i-t*u*y;break;case"zyx":h[0]=t*D*i-c*u*y,h[1]=c*u*i+t*D*y,h[2]=c*D*y-t*u*i,h[3]=c*D*i+t*u*y;break;default:throw new Error(`Unknown rotation order: ${e}`)}return h}function R(o,l){const s=l??new w(4);return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s}const W=R;function F(o,l,s){const e=s??new w(4);return e[0]=o[0]+l[0],e[1]=o[1]+l[1],e[2]=o[2]+l[2],e[3]=o[3]+l[3],e}function wn(o,l,s){const e=s??new w(4);return e[0]=o[0]-l[0],e[1]=o[1]-l[1],e[2]=o[2]-l[2],e[3]=o[3]-l[3],e}const ln=wn;function yn(o,l,s){const e=s??new w(4);return e[0]=o[0]*l,e[1]=o[1]*l,e[2]=o[2]*l,e[3]=o[3]*l,e}const An=yn;function Sn(o,l,s){const e=s??new w(4);return e[0]=o[0]/l,e[1]=o[1]/l,e[2]=o[2]/l,e[3]=o[3]/l,e}function sn(o,l){return o[0]*l[0]+o[1]*l[1]+o[2]*l[2]+o[3]*l[3]}function Tn(o,l,s,e){const a=e??new w(4);return a[0]=o[0]+s*(l[0]-o[0]),a[1]=o[1]+s*(l[1]-o[1]),a[2]=o[2]+s*(l[2]-o[2]),a[3]=o[3]+s*(l[3]-o[3]),a}function E(o){const l=o[0],s=o[1],e=o[2],a=o[3];return Math.sqrt(l*l+s*s+e*e+a*a)}const Q=E;function L(o){const l=o[0],s=o[1],e=o[2],a=o[3];return l*l+s*s+e*e+a*a}const $n=L;function hn(o,l){const s=l??new w(4),e=o[0],a=o[1],h=o[2],x=o[3],n=Math.sqrt(e*e+a*a+h*h+x*x);return n>1e-5?(s[0]=e/n,s[1]=a/n,s[2]=h/n,s[3]=x/n):(s[0]=0,s[1]=0,s[2]=0,s[3]=1),s}function Nn(o,l){return Math.abs(o[0]-l[0])<$&&Math.abs(o[1]-l[1])<$&&Math.abs(o[2]-l[2])<$&&Math.abs(o[3]-l[3])<$}function Mn(o,l){return o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]&&o[3]===l[3]}function Ln(o){const l=o??new w(4);return l[0]=0,l[1]=0,l[2]=0,l[3]=1,l}const G=A.create(),On=A.create(),gn=A.create();function En(o,l,s){const e=s??new w(4),a=A.dot(o,l);return a<-.999999?(A.cross(On,o,G),A.len(G)<1e-6&&A.cross(gn,o,G),A.normalize(G,G),V(G,Math.PI,e),e):a>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(A.cross(o,l,G),e[0]=G[0],e[1]=G[1],e[2]=G[2],e[3]=1+a,hn(e,e))}const zn=new w(4),Vn=new w(4);function qn(o,l,s,e,a,h){const x=h??new w(4);return B(o,e,a,zn),B(l,s,a,Vn),B(zn,Vn,2*a*(1-a),x),x}return{create:X,fromValues:Y,set:T,fromAxisAngle:V,toAxisAngle:U,angle:O,multiply:H,mul:j,rotateX:_,rotateY:v,rotateZ:J,slerp:B,inverse:k,conjugate:m,fromMat:b,fromEuler:C,copy:R,clone:W,add:F,subtract:wn,sub:ln,mulScalar:yn,scale:An,divScalar:Sn,dot:sn,lerp:Tn,length:E,len:Q,lengthSq:L,lenSq:$n,normalize:hn,equalsApproximately:Nn,equals:Mn,identity:Ln,rotationTo:En,sqlerp:qn}}const bn=new Map;function wt(w){let A=bn.get(w);return A||(A=at(w),bn.set(w,A)),A}function lt(w){function A(s,e,a,h){const x=new w(4);return s!==void 0&&(x[0]=s,e!==void 0&&(x[1]=e,a!==void 0&&(x[2]=a,h!==void 0&&(x[3]=h)))),x}const X=A;function Y(s,e,a,h,x){const n=x??new w(4);return n[0]=s,n[1]=e,n[2]=a,n[3]=h,n}function T(s,e){const a=e??new w(4);return a[0]=Math.ceil(s[0]),a[1]=Math.ceil(s[1]),a[2]=Math.ceil(s[2]),a[3]=Math.ceil(s[3]),a}function V(s,e){const a=e??new w(4);return a[0]=Math.floor(s[0]),a[1]=Math.floor(s[1]),a[2]=Math.floor(s[2]),a[3]=Math.floor(s[3]),a}function U(s,e){const a=e??new w(4);return a[0]=Math.round(s[0]),a[1]=Math.round(s[1]),a[2]=Math.round(s[2]),a[3]=Math.round(s[3]),a}function O(s,e=0,a=1,h){const x=h??new w(4);return x[0]=Math.min(a,Math.max(e,s[0])),x[1]=Math.min(a,Math.max(e,s[1])),x[2]=Math.min(a,Math.max(e,s[2])),x[3]=Math.min(a,Math.max(e,s[3])),x}function H(s,e,a){const h=a??new w(4);return h[0]=s[0]+e[0],h[1]=s[1]+e[1],h[2]=s[2]+e[2],h[3]=s[3]+e[3],h}function j(s,e,a,h){const x=h??new w(4);return x[0]=s[0]+e[0]*a,x[1]=s[1]+e[1]*a,x[2]=s[2]+e[2]*a,x[3]=s[3]+e[3]*a,x}function _(s,e,a){const h=a??new w(4);return h[0]=s[0]-e[0],h[1]=s[1]-e[1],h[2]=s[2]-e[2],h[3]=s[3]-e[3],h}const v=_;function J(s,e){return Math.abs(s[0]-e[0])<$&&Math.abs(s[1]-e[1])<$&&Math.abs(s[2]-e[2])<$&&Math.abs(s[3]-e[3])<$}function B(s,e){return s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2]&&s[3]===e[3]}function k(s,e,a,h){const x=h??new w(4);return x[0]=s[0]+a*(e[0]-s[0]),x[1]=s[1]+a*(e[1]-s[1]),x[2]=s[2]+a*(e[2]-s[2]),x[3]=s[3]+a*(e[3]-s[3]),x}function m(s,e,a,h){const x=h??new w(4);return x[0]=s[0]+a[0]*(e[0]-s[0]),x[1]=s[1]+a[1]*(e[1]-s[1]),x[2]=s[2]+a[2]*(e[2]-s[2]),x[3]=s[3]+a[3]*(e[3]-s[3]),x}function b(s,e,a){const h=a??new w(4);return h[0]=Math.max(s[0],e[0]),h[1]=Math.max(s[1],e[1]),h[2]=Math.max(s[2],e[2]),h[3]=Math.max(s[3],e[3]),h}function C(s,e,a){const h=a??new w(4);return h[0]=Math.min(s[0],e[0]),h[1]=Math.min(s[1],e[1]),h[2]=Math.min(s[2],e[2]),h[3]=Math.min(s[3],e[3]),h}function R(s,e,a){const h=a??new w(4);return h[0]=s[0]*e,h[1]=s[1]*e,h[2]=s[2]*e,h[3]=s[3]*e,h}const W=R;function F(s,e,a){const h=a??new w(4);return h[0]=s[0]/e,h[1]=s[1]/e,h[2]=s[2]/e,h[3]=s[3]/e,h}function wn(s,e){const a=e??new w(4);return a[0]=1/s[0],a[1]=1/s[1],a[2]=1/s[2],a[3]=1/s[3],a}const ln=wn;function yn(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3]}function An(s){const e=s[0],a=s[1],h=s[2],x=s[3];return Math.sqrt(e*e+a*a+h*h+x*x)}const Sn=An;function sn(s){const e=s[0],a=s[1],h=s[2],x=s[3];return e*e+a*a+h*h+x*x}const Tn=sn;function E(s,e){const a=s[0]-e[0],h=s[1]-e[1],x=s[2]-e[2],n=s[3]-e[3];return Math.sqrt(a*a+h*h+x*x+n*n)}const Q=E;function L(s,e){const a=s[0]-e[0],h=s[1]-e[1],x=s[2]-e[2],n=s[3]-e[3];return a*a+h*h+x*x+n*n}const $n=L;function hn(s,e){const a=e??new w(4),h=s[0],x=s[1],n=s[2],r=s[3],t=Math.sqrt(h*h+x*x+n*n+r*r);return t>1e-5?(a[0]=h/t,a[1]=x/t,a[2]=n/t,a[3]=r/t):(a[0]=0,a[1]=0,a[2]=0,a[3]=0),a}function Nn(s,e){const a=e??new w(4);return a[0]=-s[0],a[1]=-s[1],a[2]=-s[2],a[3]=-s[3],a}function Mn(s,e){const a=e??new w(4);return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a}const Ln=Mn;function G(s,e,a){const h=a??new w(4);return h[0]=s[0]*e[0],h[1]=s[1]*e[1],h[2]=s[2]*e[2],h[3]=s[3]*e[3],h}const On=G;function gn(s,e,a){const h=a??new w(4);return h[0]=s[0]/e[0],h[1]=s[1]/e[1],h[2]=s[2]/e[2],h[3]=s[3]/e[3],h}const En=gn;function zn(s){const e=s??new w(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function Vn(s,e,a){const h=a??new w(4),x=s[0],n=s[1],r=s[2],t=s[3];return h[0]=e[0]*x+e[4]*n+e[8]*r+e[12]*t,h[1]=e[1]*x+e[5]*n+e[9]*r+e[13]*t,h[2]=e[2]*x+e[6]*n+e[10]*r+e[14]*t,h[3]=e[3]*x+e[7]*n+e[11]*r+e[15]*t,h}function qn(s,e,a){const h=a??new w(4);return hn(s,h),R(h,e,h)}function o(s,e,a){const h=a??new w(4);return An(s)>e?qn(s,e,h):Mn(s,h)}function l(s,e,a){const h=a??new w(4);return k(s,e,.5,h)}return{create:A,fromValues:X,set:Y,ceil:T,floor:V,round:U,clamp:O,add:H,addScaled:j,subtract:_,sub:v,equalsApproximately:J,equals:B,lerp:k,lerpV:m,max:b,min:C,mulScalar:R,scale:W,divScalar:F,inverse:wn,invert:ln,dot:yn,length:An,len:Sn,lengthSq:sn,lenSq:Tn,distance:E,dist:Q,distanceSq:L,distSq:$n,normalize:hn,negate:Nn,copy:Mn,clone:Ln,multiply:G,mul:On,divide:gn,div:En,zero:zn,transformMat4:Vn,setLength:qn,truncate:o,midpoint:l}}const Cn=new Map;function ht(w){let A=Cn.get(w);return A||(A=lt(w),Cn.set(w,A)),A}function Gn(w,A,X,Y,T,V){return{mat3:it(w),mat4:ft(A),quat:wt(X),vec2:nt(Y),vec3:vn(T),vec4:ht(V)}}const{mat3:dt,mat4:pt,quat:xt,vec2:yt,vec3:gt,vec4:zt}=Gn(Float32Array,Float32Array,Float32Array,Float32Array,Float32Array,Float32Array);Gn(Float64Array,Float64Array,Float64Array,Float64Array,Float64Array,Float64Array);Gn(ct,Array,Array,Array,Array,Array);async function At(w){let A=w.getContext("webgpu");A||tt("Failed to get context");const X=await Mt(),Y=navigator.gpu.getPreferredCanvasFormat();return A==null||A.configure({device:X,format:Y,alphaMode:"opaque"}),{device:X,context:A,format:Y}}function St(w,A){return A.createTexture({size:{width:w.width,height:w.height},format:"depth24plus",sampleCount:4,usage:GPUTextureUsage.RENDER_ATTACHMENT})}function qt(w,A,X){return A.createTexture({size:{width:w.width,height:w.height},format:X,sampleCount:4,usage:GPUTextureUsage.RENDER_ATTACHMENT})}async function Mt(){var X;let w=await((X=navigator.gpu)==null?void 0:X.requestAdapter());const A=await(w==null?void 0:w.requestDevice());return A||tt("Browser does not support WebGPU"),A}function tt(w){throw document.body.innerHTML=`<h1>${w}</h1>`,new Error(w)}function Pt(w,A,X){const Y=w/2,T=A/2,V=X/2,U=[Y,T,V,1],O=[-Y,T,V,1],H=[-Y,-T,V,1],j=[Y,-T,V,1],_=[Y,T,-V,1],v=[-Y,T,-V,1],J=[-Y,-T,-V,1],B=[Y,-T,-V,1],k=[0,0,1,0],m=[0,0,-1,0],b=[-1,0,0,0],C=[1,0,0,0],R=[0,1,0,0],W=[0,-1,0,0];function F(ln,yn){return[...ln,...yn]}const wn=[...F(O,k),...F(U,k),...F(j,k),...F(O,k),...F(j,k),...F(H,k),...F(v,m),...F(_,m),...F(B,m),...F(v,m),...F(B,m),...F(J,m),...F(v,b),...F(O,b),...F(H,b),...F(v,b),...F(H,b),...F(J,b),...F(U,C),...F(_,C),...F(B,C),...F(U,C),...F(B,C),...F(j,C),...F(O,R),...F(v,R),...F(_,R),...F(O,R),...F(_,R),...F(U,R),...F(j,W),...F(B,W),...F(J,W),...F(j,W),...F(J,W),...F(H,W)];return new Float32Array(wn)}function Ft(w){const A=w,X=w,Y=1,T=[],V=[];for(let O=0;O<=A;O++){const H=O/A*Math.PI;V[O]=[];for(let j=0;j<=X;j++){const _=j/X*2*Math.PI,v=Y*Math.sin(H)*Math.cos(_),J=Y*Math.cos(H),B=Y*Math.sin(H)*Math.sin(_);V[O][j]=[v,J,B,1]}}function U(O){const H=O[0],j=O[1],_=O[2];return[...O,H,j,_,0]}for(let O=0;O<A;O++)for(let H=0;H<X;H++){const j=V[O][H],_=V[O+1][H],v=V[O+1][H+1],J=V[O][H+1];T.push(...U(j),...U(_),...U(v)),T.push(...U(j),...U(v),...U(J))}return new Float32Array(T)}export{Ft as a,At as b,Pt as c,St as d,qt as e,Dt as f,pt as m,xt as q,gt as v};
